{% extends 'base.html.twig' %}

{% block title %}D√©tails Utilisateur{% endblock %}

{% block body %}
<div class="container-fluid px-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="mt-4">üë§ {{ user.firstName }} {{ user.lastName }}</h1>
        <div>
            <a href="{{ path('app_user_edit', {'id': user.id}) }}" class="btn btn-warning">‚úèÔ∏è Modifier</a>
            <a href="{{ path('app_user_index') }}" class="btn btn-secondary">‚Üê Retour</a>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-6">
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">üìã Informations Personnelles</h5>
                </div>
                <div class="card-body">
                    <table class="table table-borderless">
                        <tr>
                            <th width="40%">Pr√©nom :</th>
                            <td>{{ user.firstName }}</td>
                        </tr>
                        <tr>
                            <th>Nom :</th>
                            <td>{{ user.lastName }}</td>
                        </tr>
                        <tr>
                            <th>Email :</th>
                            <td>{{ user.email }}</td>
                        </tr>
                        <tr>
                            <th>CIN :</th>
                            <td>{{ user.cin ?? 'Non renseign√©' }}</td>
                        </tr>
                        <tr>
                            <th>T√©l√©phone :</th>
                            <td>{{ user.phone ?? 'Non renseign√©' }}</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <div class="col-lg-6">
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-success text-white">
                    <h5 class="mb-0">üíº Informations Professionnelles</h5>
                </div>
                <div class="card-body">
                    <table class="table table-borderless">
                        <tr>
                            <th width="40%">R√¥le :</th>
                            <td>
                                {% if 'ROLE_ADMIN' in user.roles %}
                                    <span class="badge bg-danger">üî¥ ADMIN</span>
                                {% elseif 'ROLE_DIRECTEUR' in user.roles %}
                                    <span class="badge bg-danger">üî¥ DIRECTEUR</span>
                                {% elseif 'ROLE_MANAGER' in user.roles %}
                                    <span class="badge bg-warning text-dark">üü† MANAGER</span>
                                {% elseif 'ROLE_SENIOR' in user.roles %}
                                    <span class="badge bg-info">üü° SENIOR</span>
                                {% else %}
                                    <span class="badge bg-success">üü¢ JUNIOR</span>
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <th>Bureau :</th>
                            <td>{{ user.office ?? 'Non assign√©' }}</td>
                        </tr>
                        <tr>
                            <th>Date d'embauche :</th>
                            <td>{{ user.hireDate ? user.hireDate|date('d/m/Y') : 'Non renseign√©e' }}</td>
                        </tr>
                        <tr>
                            <th>Statut :</th>
                            <td>
                                {% if user.isActive %}
                                    <span class="badge bg-success">Actif ‚úÖ</span>
                                {% else %}
                                    <span class="badge bg-danger">Inactif ‚ùå</span>
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <th>Cr√©√© le :</th>
                            <td>{{ user.createdAt|date('d/m/Y √† H:i') }}</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
